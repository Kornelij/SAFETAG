"use strict";(self.webpackChunksafetag_website=self.webpackChunksafetag_website||[]).push([[996],{95797:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var n=a(67294),r=a(42982),o=a(94578),i=a(27782),l={margin:"2em 0"},s={listStyleType:"none"},c={margin:"0.5em 0"},u={color:"#aaa",marginRight:"1em"},d=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={query:t.props.initialQuery?t.props.initialQuery:"",results:[]},t.search=function(e){var a=e.target.value,n=t.getSearchResults(a);t.setState({results:n,query:a})},t}(0,o.Z)(t,e);var a=t.prototype;return a.componentDidMount=function(){if(this.props.initialQuery){console.log("Initial: "+this.props.initialQuery);var e=this.getSearchResults(this.props.initialQuery);this.setState({results:e})}this.searchInput.focus()},a.render=function(){var e=this,t=function(){var t=[],a="",r=(0,i.useTranslation)("site",{useSuspense:!1}).t,o=n.useContext(i.I18nextContext);return e.state.query.length<3?(a=r("Please insert at least 3 characters."),console.log("Query "+e.state.query+"is too short")):e.state.results.length>0?e.state.results.map((function(e,a){["activity","method","blog post","tool"].includes(e.type)&&e.lang==o.language&&t.push({key:a,slug:e.url,title:e.title,type:e.type})})):0===e.state.results.length?(a=r("No results for ")+e.state.query+".",console.log("No results for "+e.state.query)):(a="",console.log("No return for query "+e.state.query)),t.length>0?n.createElement("div",{className:"m-search__results"},n.createElement("ul",{style:s},t.map((function(e){return n.createElement("li",{style:c,className:"m-search__result",key:e.key},n.createElement("span",{style:u},e.type.replace(/^\w/,(function(e){return e.toUpperCase()}))),n.createElement(i.Link,{to:e.slug,className:"link"},e.title))})))):a?n.createElement("div",{className:"m-search__results"},n.createElement("div",{className:"m-search__result"},a)):""};return n.createElement("div",{ref:this.node,className:"row m-search "+this.props.classNames+"__search"},n.createElement("div",{className:"m-search__wrapper col-sm-12 col-md-8 col-lg-"+this.props.cols},n.createElement("div",{className:"m-search__input"},n.createElement("input",{type:"text",style:l,onChange:this.search,placeholder:"Search",value:this.state.query,ref:function(t){return e.searchInput=t}}),n.createElement("i",{className:"fas fa-search"})),n.createElement(t,null)))},a.getSearchResults=function(e){console.log("Resetting searchQuery..."),this.setState({searchQuery:e}),console.log(this.state);var t=window.__FLEXSEARCH__.en.index,a=window.__FLEXSEARCH__.en.store;if(e&&t){console.log("Searching for "+e);var n=[];return Object.keys(t).forEach((function(a){var o;(o=n).push.apply(o,(0,r.Z)(t[a].values.search(e)))})),n=Array.from(new Set(n)),a.filter((function(e){return n.includes(e.id)?e:null})).map((function(e){return e.node}))}return console.log("Not searching"),[]},t}(n.Component),m=d,p=a(78014),f=a(80011),g=a(86131),h=a(58162);var y=function(e){var t=e.location,a="";return t.state&&t.state.searchQuery&&(a=t.state.searchQuery),n.createElement(p.Z,null,n.createElement(f.Z,{title:"Safetag"}),n.createElement(g.uv,null,n.createElement(g.KY,null,n.createElement(g.mb,null,n.createElement(h.ZP,{id:"recent-updates",size:"jumbo",variation:"primary",withDeco:!0},"Search SAFETAG"),n.createElement(m,{initialQuery:a})))))}},76979:function(e,t,a){a.d(t,{CS:function(){return h},Ol:function(){return f},fN:function(){return g}});var n,r,o=a(81880),i=a(50535),l=a(9491),s=a(52880),c=a(11094),u=a(48411),d=a(58162),m=function(e){var t=e.border;return"base"===t?(0,l.a8)("color.base"):"primary"===t?(0,l.a8)("color.primary"):"secondary"===t?(0,l.a8)("color.secondary"):"white"===t?(0,l.a8)("color.surface"):"inherit"},p=i.default.article.withConfig({displayName:"card__Card",componentId:"sc-1neqwum-0"})(["padding:"," ",";display:flex;flex-flow:column;color:",";background:",";position:relative;"," & > :last-child:not(:first-child){padding-top:",";}&:visited{color:",";}a,a:visited{color:",";}h1,h2,h3{margin:0;}",""],(0,c.m2)(2),(0,c.m2)(1.5),(0,l.a8)("color.base"),(function(e){var t=e.variation;return"base"===t?(0,c.WD)(.75,(0,l.a8)("color.base")):"primary"===t?(0,c.WD)(.5,(0,l.a8)("color.primary")):"secondary"===t?(0,c.WD)(.525,(0,l.a8)("color.secondary")):"white"===t?(0,c.WD)((0,l.a8)(.5,"color.surface")):"outline"===t?"transparent":"white"}),(function(e){return e.border&&(0,i.css)(["border:2px solid ",";"],m)}),(0,c.m2)(2),(0,l.a8)("color.base"),(0,l.a8)("color.link"),(function(e){return e.withHover&&(0,i.css)(['&:after{position:absolute;content:"";opacity:0;width:100%;height:100%;left:0;top:0;z-index:-1;border:2px solid ',";background:none;transition:all 0.16s cubic-bezier(0.55,0.085,0.68,0.53);}&:hover{&:after{opacity:1;transform:translate(10px,10px);transition-delay:0.08s;}}"],m)}));t.ZP=p;var f=i.default.div.withConfig({displayName:"card__CardHeader",componentId:"sc-1neqwum-1"})(["display:flex;align-items:flex-start;img{max-height:2rem;margin-right:1rem;}h1{flex:1;}"]),g=(0,i.default)(d.ZP).withConfig({displayName:"card__CardHeading",componentId:"sc-1neqwum-2"})(["margin-bottom:",";position:relative;letter-spacing:0.5px;img{max-height:1.5rem;margin-right:0.75rem;}"],(0,c.m2)()),h=(i.default.div.withConfig({displayName:"card__CardFooter",componentId:"sc-1neqwum-3"})(["margin-top:auto;"]),i.default.ul.withConfig({displayName:"card__CardList",componentId:"sc-1neqwum-4"})(["",";display:grid;grid-template-columns:repeat(6,1fr);grid-gap:",";","{height:100%;}li{grid-column:auto / span 6;"," ","}"],(0,u.$n)(),(0,c.m2)(2),p,s.Z.smallUp(n||(n=(0,o.Z)(["\n      grid-column: auto / span 3;\n    "]))),s.Z.largeUp(r||(r=(0,o.Z)(["\n      grid-column: auto / span 2;\n    "])))))},86131:function(e,t,a){a.d(t,{KY:function(){return v},Rd:function(){return b},hK:function(){return w},mb:function(){return I},qc:function(){return _},uv:function(){return g},yn:function(){return h},zh:function(){return y}});var n,r,o=a(81880),i=a(67294),l=a(50535),s=a(48411),c=a(9491),u=a(11094),d=a(58162),m=a(96128),p=a(76979),f=a(52880),g=l.default.article.withConfig({displayName:"inpage__Inpage",componentId:"sc-1dtk98a-0"})(["display:grid;height:100%;grid-template-rows:auto 1fr;"]),h=(0,l.default)(m.Z).withConfig({displayName:"inpage__InpageInnerColumns",componentId:"sc-1dtk98a-1"})(["display:grid;grid-template-columns:1fr;padding-top:",";padding-bottom:",";"," & > section > ","{margin-top:1rem;display:block;}& > *{margin-bottom:2rem;","}"],(0,u.m2)(1),(0,u.m2)(2),f.Z.mediumUp(n||(n=(0,o.Z)(["\n    grid-template-columns: ",";\n    gap: ",";\n    padding-top: ",";\n  "])),(function(e){var t=e.columnLayout;return"1:1"===t?"1fr 1fr":"2:1"===t?"2fr 1fr":"3:1"===t?"3fr 1fr":"inherit"}),(0,u.m2)(4),(0,u.m2)(2)),p.ZP,f.Z.mediumUp(r||(r=(0,o.Z)(["\n      margin-bottom: 0;\n    "])))),y=l.default.header.withConfig({displayName:"inpage__InpageHeader",componentId:"sc-1dtk98a-2"})([""," padding-bottom:",";"],(function(e){return e.isHidden&&(0,l.css)(["",""],(0,s.jy)())}),(0,u.m2)(2)),_=(0,l.default)(m.Z).withConfig({displayName:"inpage__InpageHeaderInner",componentId:"sc-1dtk98a-3"})(["display:flex;flex-flow:column nowrap;justify-content:space-between;padding:"," ",";"],(0,u.m2)(4),(0,u.m2)()),w=l.default.div.withConfig({displayName:"inpage__InpageHeadline",componentId:"sc-1dtk98a-4"})(["display:flex;flex-flow:column;min-width:0;> *:first-child{margin-bottom:",";}> *:last-child{margin-bottom:",";}"],(0,u.m2)(),(0,u.m2)()),b=(l.default.div.withConfig({displayName:"inpage__InpageToolbar",componentId:"sc-1dtk98a-5"})(["display:flex;flex-flow:row nowrap;align-items:center;padding-left:",";margin-left:auto;"],(0,u.m2)(2)),l.default.div.withConfig({displayName:"inpage__InpageTitleWrapper",componentId:"sc-1dtk98a-6"})(["display:flex;flex-flow:row nowrap;min-width:0;margin-bottom:",";"],(0,u.m2)(1.5)),(0,l.default)((function(e){var t=Object.assign({},e);return i.createElement(d.ZP,t)})).withConfig({displayName:"inpage__InpageTitle",componentId:"sc-1dtk98a-7"})(["margin-bottom:",";line-height:3rem;"],(0,u.m2)(.5))),v=(l.default.p.withConfig({displayName:"inpage__InpageTagline",componentId:"sc-1dtk98a-8"})([""," font-size:0.875rem;line-height:1rem;"],(0,d.Zi)()),l.default.section.withConfig({displayName:"inpage__InpageBody",componentId:"sc-1dtk98a-9"})(["",";& ~ &{padding-top:",";padding-bottom:",";}p > img{display:block;margin:1rem auto;max-width:100%;}"],(function(e){var t=e.variation;return"dark"===t?(0,l.css)(["background-color:",";& *{color:",";border-color:",";&:after{background-color:",";}a{color:",";text-decoration:underline;}}"],(0,c.a8)("color.base"),(0,c.a8)("color.surface"),(0,c.a8)("color.surface"),(0,c.a8)("color.surface"),(0,c.a8)("color.surface")):"blue"===t?(0,l.css)(["background-color:",";& *{color:",";border-color:",";&:after{background-color:",";}a{color:",";text-decoration:underline;}a:visited{color:",";}}"],(0,c.a8)("color.primary"),(0,c.a8)("color.surface"),(0,c.a8)("color.surface"),(0,c.a8)("color.surface"),(0,c.a8)("color.surface"),(0,c.a8)("color.surface")):(0,l.css)(["background-color:transparent;"])}),(0,u.m2)(2),(0,u.m2)(2))),I=(0,l.default)(m.Z).withConfig({displayName:"inpage__InpageBodyInner",componentId:"sc-1dtk98a-10"})(["padding:"," ",";& ~ &{padding:",";}"],(0,u.m2)(2),(0,u.m2)(),(0,u.m2)())}}]);
//# sourceMappingURL=component---src-pages-search-js-41200a9875e2335ea938.js.map