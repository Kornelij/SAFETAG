"use strict";(self.webpackChunksafetag_website=self.webpackChunksafetag_website||[]).push([[55],{55811:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var r=a(96540),n=a(54506),o=a(77387),i=a(24755);const l={margin:"2em 0"},s={listStyleType:"none"},c={margin:"0.5em 0"},d={color:"#aaa",marginRight:"1em"};let u=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={query:t.props.initialQuery?t.props.initialQuery:"",results:[]},t.search=e=>{const a=e.target.value,r=t.getSearchResults(a);t.setState({results:r,query:a})},t}(0,o.A)(t,e);var a=t.prototype;return a.componentDidMount=function(){if(this.props.initialQuery){console.log("Initial: "+this.props.initialQuery);const e=this.getSearchResults(this.props.initialQuery);this.setState({results:e})}this.searchInput.focus()},a.render=function(){const e=()=>{let e=[],t="";const{t:a}=(0,i.useTranslation)("site",{useSuspense:!1}),n=r.useContext(i.I18nextContext);return this.state.query.length<3?(t=a("Please insert at least 3 characters."),console.log("Query "+this.state.query+"is too short")):this.state.results.length>0?this.state.results.map(((t,a)=>{["activity","method","blog post","tool"].includes(t.type)&&t.lang==n.language&&e.push({key:a,slug:t.url,title:t.title,type:t.type})})):0===this.state.results.length?(t=a("No results for ")+this.state.query+".",console.log("No results for "+this.state.query)):(t="",console.log("No return for query "+this.state.query)),e.length>0?r.createElement("div",{className:"m-search__results"},r.createElement("ul",{style:s},e.map((e=>r.createElement("li",{style:c,className:"m-search__result",key:e.key},r.createElement("span",{style:d},e.type.replace(/^\w/,(e=>e.toUpperCase()))),r.createElement(i.Link,{to:e.slug,className:"link"},e.title)))))):t?r.createElement("div",{className:"m-search__results"},r.createElement("div",{className:"m-search__result"},t)):""};return r.createElement("div",{ref:this.node,className:"row m-search "+this.props.classNames+"__search"},r.createElement("div",{className:"m-search__wrapper col-sm-12 col-md-8 col-lg-"+this.props.cols},r.createElement("div",{className:"m-search__input"},r.createElement("input",{type:"text",style:l,onChange:this.search,placeholder:"Search",value:this.state.query,ref:e=>this.searchInput=e}),r.createElement("i",{className:"fas fa-search"})),r.createElement(e,null)))},a.getSearchResults=function(e){console.log("Resetting searchQuery..."),this.setState({searchQuery:e}),console.log(this.state);var t=window.__FLEXSEARCH__.en.index,a=window.__FLEXSEARCH__.en.store;if(e&&t){console.log("Searching for "+e);var r=[];return Object.keys(t).forEach((a=>{var o;(o=r).push.apply(o,(0,n.A)(t[a].values.search(e)))})),r=Array.from(new Set(r)),a.filter((e=>r.includes(e.id)?e:null)).map((e=>e.node))}return console.log("Not searching"),[]},t}(r.Component);var p=u,m=a(82809),g=a(89210),f=a(13807),h=a(33354);var y=function(e){let{location:t}=e,a="";return t.state&&t.state.searchQuery&&(a=t.state.searchQuery),r.createElement(m.A,null,r.createElement(g.A,{title:"Safetag"}),r.createElement(f.Z6,null,r.createElement(f.tc,null,r.createElement(f.JZ,null,r.createElement(h.Ay,{id:"recent-updates",size:"jumbo",variation:"primary",withDeco:!0},"Search SAFETAG"),r.createElement(p,{initialQuery:a})))))}},76461:function(e,t,a){a.d(t,{Lc:function(){return f},aR:function(){return g},bU:function(){return h}});var r,n,o=a(75276),i=a(42577),l=a(94733),s=a(46784),c=a(30647),d=a(2709),u=a(33354);const p=e=>{let{border:t}=e;return"base"===t?(0,l.N6)("color.base"):"primary"===t?(0,l.N6)("color.primary"):"secondary"===t?(0,l.N6)("color.secondary"):"white"===t?(0,l.N6)("color.surface"):"inherit"},m=i.default.article.withConfig({displayName:"card__Card",componentId:"sc-1neqwum-0"})(["padding:"," ",";display:flex;flex-flow:column;color:",";background:",";position:relative;"," & > :last-child:not(:first-child){padding-top:",";}&:visited{color:",";}a,a:visited{color:",";}h1,h2,h3{margin:0;}",""],(0,c.H1)(2),(0,c.H1)(1.5),(0,l.N6)("color.base"),(e=>{let{variation:t}=e;return"base"===t?(0,c.RK)(.75,(0,l.N6)("color.base")):"primary"===t?(0,c.RK)(.5,(0,l.N6)("color.primary")):"secondary"===t?(0,c.RK)(.525,(0,l.N6)("color.secondary")):"white"===t?(0,c.RK)((0,l.N6)(.5,"color.surface")):"outline"===t?"transparent":"white"}),(e=>{let{border:t}=e;return t&&(0,i.css)(["border:2px solid ",";"],p)}),(0,c.H1)(2),(0,l.N6)("color.base"),(0,l.N6)("color.link"),(e=>{let{withHover:t}=e;return t&&(0,i.css)(['&:after{position:absolute;content:"";opacity:0;width:100%;height:100%;left:0;top:0;z-index:-1;border:2px solid ',";background:none;transition:all 0.16s cubic-bezier(0.55,0.085,0.68,0.53);}&:hover{&:after{opacity:1;transform:translate(10px,10px);transition-delay:0.08s;}}"],p)}));t.Ay=m;const g=i.default.div.withConfig({displayName:"card__CardHeader",componentId:"sc-1neqwum-1"})(["display:flex;align-items:flex-start;img{max-height:2rem;margin-right:1rem;}h1{flex:1;}"]),f=(0,i.default)(u.Ay).withConfig({displayName:"card__CardHeading",componentId:"sc-1neqwum-2"})(["margin-bottom:",";position:relative;letter-spacing:0.5px;img{max-height:1.5rem;margin-right:0.75rem;}"],(0,c.H1)()),h=(i.default.div.withConfig({displayName:"card__CardFooter",componentId:"sc-1neqwum-3"})(["margin-top:auto;"]),i.default.ul.withConfig({displayName:"card__CardList",componentId:"sc-1neqwum-4"})(["",";display:grid;grid-template-columns:repeat(6,1fr);grid-gap:",";","{height:100%;}li{grid-column:auto / span 6;"," ","}"],(0,d.sJ)(),(0,c.H1)(2),m,s.A.smallUp(r||(r=(0,o.A)(["\n      grid-column: auto / span 3;\n    "]))),s.A.largeUp(n||(n=(0,o.A)(["\n      grid-column: auto / span 2;\n    "])))))},13807:function(e,t,a){a.d(t,{Co:function(){return w},Ig:function(){return h},JZ:function(){return v},Ud:function(){return y},Z6:function(){return f},hE:function(){return _},tc:function(){return b},v5:function(){return N}});var r,n,o=a(75276),i=a(96540),l=a(42577),s=a(2709),c=a(94733),d=a(30647),u=a(33354),p=a(15977),m=a(76461),g=a(46784);const f=l.default.article.withConfig({displayName:"inpage__Inpage",componentId:"sc-1dtk98a-0"})(["display:grid;height:100%;grid-template-rows:auto 1fr;"]),h=(0,l.default)(p.A).withConfig({displayName:"inpage__InpageInnerColumns",componentId:"sc-1dtk98a-1"})(["display:grid;grid-template-columns:1fr;padding-top:",";padding-bottom:",";"," & > section > ","{margin-top:1rem;display:block;}& > *{margin-bottom:2rem;","}"],(0,d.H1)(1),(0,d.H1)(2),g.A.mediumUp(r||(r=(0,o.A)(["\n    grid-template-columns: ",";\n    gap: ",";\n    padding-top: ",";\n  "])),(e=>{let{columnLayout:t}=e;return"1:1"===t?"1fr 1fr":"2:1"===t?"2fr 1fr":"3:1"===t?"3fr 1fr":"inherit"}),(0,d.H1)(4),(0,d.H1)(2)),m.Ay,g.A.mediumUp(n||(n=(0,o.A)(["\n      margin-bottom: 0;\n    "])))),y=l.default.header.withConfig({displayName:"inpage__InpageHeader",componentId:"sc-1dtk98a-2"})([""," padding-bottom:",";"],(e=>{let{isHidden:t}=e;return t&&(0,l.css)(["",""],(0,s.Qg)())}),(0,d.H1)(2)),w=(0,l.default)(p.A).withConfig({displayName:"inpage__InpageHeaderInner",componentId:"sc-1dtk98a-3"})(["display:flex;flex-flow:column nowrap;justify-content:space-between;padding:"," ",";"],(0,d.H1)(4),(0,d.H1)()),_=l.default.div.withConfig({displayName:"inpage__InpageHeadline",componentId:"sc-1dtk98a-4"})(["display:flex;flex-flow:column;min-width:0;> *:first-child{margin-bottom:",";}> *:last-child{margin-bottom:",";}"],(0,d.H1)(),(0,d.H1)()),N=(l.default.div.withConfig({displayName:"inpage__InpageToolbar",componentId:"sc-1dtk98a-5"})(["display:flex;flex-flow:row nowrap;align-items:center;padding-left:",";margin-left:auto;"],(0,d.H1)(2)),l.default.div.withConfig({displayName:"inpage__InpageTitleWrapper",componentId:"sc-1dtk98a-6"})(["display:flex;flex-flow:row nowrap;min-width:0;margin-bottom:",";"],(0,d.H1)(1.5)),(0,l.default)((e=>{let{...t}=e;return i.createElement(u.Ay,t)})).withConfig({displayName:"inpage__InpageTitle",componentId:"sc-1dtk98a-7"})(["margin-bottom:",";line-height:3rem;"],(0,d.H1)(.5))),b=(l.default.p.withConfig({displayName:"inpage__InpageTagline",componentId:"sc-1dtk98a-8"})([""," font-size:0.875rem;line-height:1rem;"],(0,u.wD)()),l.default.section.withConfig({displayName:"inpage__InpageBody",componentId:"sc-1dtk98a-9"})(["",";& ~ &{padding-top:",";padding-bottom:",";}p > img{display:block;margin:1rem auto;max-width:100%;}"],(e=>{let{variation:t}=e;return"dark"===t?(0,l.css)(["background-color:",";& *{color:",";border-color:",";&:after{background-color:",";}a{color:",";text-decoration:underline;}}"],(0,c.N6)("color.base"),(0,c.N6)("color.surface"),(0,c.N6)("color.surface"),(0,c.N6)("color.surface"),(0,c.N6)("color.surface")):"blue"===t?(0,l.css)(["background-color:",";& *{color:",";border-color:",";&:after{background-color:",";}a{color:",";text-decoration:underline;}a:visited{color:",";}}"],(0,c.N6)("color.primary"),(0,c.N6)("color.surface"),(0,c.N6)("color.surface"),(0,c.N6)("color.surface"),(0,c.N6)("color.surface"),(0,c.N6)("color.surface")):(0,l.css)(["background-color:transparent;"])}),(0,d.H1)(2),(0,d.H1)(2))),v=(0,l.default)(p.A).withConfig({displayName:"inpage__InpageBodyInner",componentId:"sc-1dtk98a-10"})(["padding:"," ",";& ~ &{padding:",";}"],(0,d.H1)(2),(0,d.H1)(),(0,d.H1)())}}]);
//# sourceMappingURL=component---src-pages-search-js-684130560bad76d238cc.js.map